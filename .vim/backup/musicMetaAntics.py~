#!usr/bin/python


'''
A python program for experimenting with large amounts of music metadata!
'''


import sys, argparse, os
from pprint import pprint
from gmusicapi import Mobileclient
from operator import attrgetter, itemgetter
from gmusicMeta import getGoogleMusicMeta


def printArtists(artists): 
    print "Number of artists = ", len(artists)
    for artist in artists:
        print artist['name']
        for album in artist.get('albums'):
            print '\t', album.get('name')
            for track in album.get('tracks'):
                print '\t\t', track.get('title')
    print


def printStations(stations):
    print "Number of stations = ", len(stations)
    new = sorted(stations, key=itemgetter('kind', 'name'))
    for station in new:
        print station['kind'], station['name']
    print


def main(args):
    parser = argparse.ArgumentParser()
    parser.add_argument("-u", "--update", help="update the music meta-database with selected services", action="store_true")
    parser.add_argument("-gmst", "--gmStations", help="retrieve/update Google Music station meta.", action="store_true")
    parser.add_argument("-gmar", "--gmArtists", help="retrieve/update Google Music artsist meta.", action="store_true")
    args = parser.parse_args()
    pprint(args)
    if args.gmArtists or args.gmStations:
        gmusicmeta = getGoogleMusicMeta(args)
        pprint(gmusicmeta)
        print "There's yo shizz nigga!"
        

if __name__ == "__main__":
    main(sys.argv[1:]) 

