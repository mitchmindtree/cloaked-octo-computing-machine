#!usr/bin/env python2


'''

A tool for visualising Meta Antics' data as a "Force Directed
Graph" using Box2D.

'''


import sys, os
from pprint import pprint
import Box2D
import menu
from pyprocessing import *
from threading import Thread
import gmusicMeta
from gmusicMeta import updateGmusicMeta, loadGmusicMeta


# Constants
PPM = 20.0
TARGET_FPS = 60
TIME_STEP = 1.0 / TARGET_FPS
SCREEN_WIDTH, SCREEN_HEIGHT = 640, 480
tStations = Thread()
tArtists = Thread()
artists = []


def setup():
    size(640, 480)
    t = Thread(target=gmusicMeta.authGoogleMusic())
    t.start()
    #menu.main()


def draw():
    background(250, 0, 0)
    text("A test string!", 200, 200)
    ellipse(mouse.x, mouse.y, 10, 10)
    if artists:
        drawFDG()


def keyPressed(): 
    if key.char == '0':
        print('Seeya Mayyyytte!')
        sys.exit(0)
    elif key.char == '1':
        tStations = Thread(target=updateGmusicMeta, args=(True, False))
        tStations.start()
        tArtists = Thread(target=updateGmusicMeta, args=(False, True))
        tArtists.start()
    elif key.char == '2':
        tStations = Thread(target=updateGmusicMeta, args=(True, False))
        tStations.start()
    elif key.char == '3':
        tArtists = Thread(target=updateGmusicMeta, args=(False, True))
        tArtists.start()
    elif key.char == '4':
        artists = loadGmusicMeta()
 

#def mouseClicked(): 


#def mouseDragged():


#def mouseMoved():


#def mousePressed():


if __name__ == "__main__":
    run() 

